<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise</title>
</head>
<body>
<script type="text/javascript">
    const p = Promise.resolve(21);
    var p2 = p.then(function(v){
        console.log(v);
        return v * 2;
    })
    p2.then(function(v){
        console.log(v);
    });


    p.then(function(v){
        console.log(v);
        return v * 2
    })
    .then(function(result){
        console.log(result);
    });


    const promise1 = Promise.resolve(21);
    promise1.then(function(v){
        console.log(v);
        return new Promise(function(resolve,reject){
            resolve(v * 2);
        })
    })
    .then(function(v){
        console.log(v);
    })


    const promise2 = Promise.resolve(10);
    promise2.then(function(v){
        return new Promise(function(resolve,reject){
            setTimeout(function(){
                resolve(v * 2);
            },2000)
        })
    })
    .then(function(result){
        console.log(result);
    })


    function delay(time){
        return new Promise((resolve,reject) => {
            setTimeout(resolve,time);
        })
    }

    delay(1000)
    .then(function Step2(){
        console.log("Step 2 after 1000ms");
        return delay(4000)
    })
    .then(function Step3(){
        console.log('step 3 after 4000ms');
    })
    .then(function Step4(){
        console.log('step 4');
        return delay(5000)
    })
    .then(function Step5(){
        console.log('Step 5 after 5000ms');
    })

    var age = prompt('please tell me your age:');
    console.log(age);
    console.log(typeof age);


</script>
</body>
</html>