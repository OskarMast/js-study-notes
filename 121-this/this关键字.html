<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>this</title>
</head>
<body>
<script>
    var obj = {
        id:'awesome',
        cool:function coolFn(){
            console.log(this.id);
        }
    }
    var id = 'not awesome';
    obj.cool(); // awesome
    setTimeout(obj.cool,1000);  // not awesome


    var counter = {
        count:0,
        cool:function coolFn(){
            const self = this;
            if(self.count < 1){
                setTimeout(function timer(){
                    self.count++;
                    console.log('setTimeout:',this);
                    console.log('awesome?')
                },1000);
            }
        }
    }
    counter.cool();


    var count = {
        counter:0,
        cool:function coolFn(){
            const _this = this;
            if(_this.counter < 1){
                setTimeout(() => {
                    this.counter++;
                    console.log('awesome??');
                },1000);
            }
        }
    }
    count.cool();
</script>
<script type="text/javascript">
    function identify(){
        console.log(this.name.toUpperCase());
    }
    function speak(){
        var greeting = "Hello, I'm " + identify.call(this);
        console.log(greeting);
    }
    var me = {
        name:'kyle'
    }
    var you = {
        name:'Reader'
    }

    identify.call(me);  // KYLE
    identify.call(you); // READER

    speak.call(me); //

</script>
<script type="text/javascript">
    function foo(num){
        console.log('foo:',num);
        this.count++;
    }
    foo.count = 0;
    for(var i = 0; i < 10; i++){
        if( i > 5) {
            foo(i);
        }
    }
    console.log(foo.count); // 0
    console.log(window.count);  // NaN

</script>
<script type="text/javascript">
    function bar(num){
        console.log('bar:',num);
        data.count++;
    }
    var data = {
        count : 0
    }
    for(var i = 0; i < 10; i++){
        if(i > 5){
            bar(i);
        }
    }
    console.log( data.count );  // 4;
</script>
<script type="text/javascript">
    function bar(num){
        console.log('bar:',num);
        bar.count++;
    }
    bar.count = 0;
    for(var i = 0; i < 10; i++){
        if(i > 5){
            bar(i);
        }
    }
    console.log('bar.count:',bar.count);

    function baz(){
        console.log('baz'); // 当前调用栈是 window
        bar();
    }
    function bar(){
        console.log('bar'); // 当前调用栈是 baz --> bar
        foo();
    }

    function foo(){
        console.log('foo'); // 当前调用栈是 baz --> bar --> foo
    }
    baz();




</script>
</body>
</html>