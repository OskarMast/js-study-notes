<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue-this.$router</title>
</head>
<body>
<div id="app">
    <button @click="goHome">首页</button>
    <button @click="goUser">用户中心</button>
    <button @click="goBack">上一页</button>
    <router-view></router-view>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<script>
    const home = {
        template:`<div>首页</div>`,
        created(){
            console.log('query',this.$route.query);
        }
    }
    const user = {
        template:'<div>用户中心</div>',
        created(){
            console.log('params',this.$route.params);
        }
    }
    const router = new VueRouter({
        routes:[
            {
                path:'/home',
                component:home,
                name:'home'
            },
            {
                path:'/user/:id',
                name:'user',
                component:user
            },
            {
                path:'/*',
                redirect:'/home'
            }
        ]
    })

    const vm = new Vue({
        el:"#app",
        router,
        methods:{
            goHome(){
                //如果提供path,params会被忽略
                this.$router.push({
                    path:'/home',
                    query:{page:123}
                })
            },
            goUser(){
                this.$router.push({
                    name:'user',
                    params:{id:123}
                })
            },
            goBack(){
                this.$router.back();
            }
        }
    })

</script>
</body>
</html>