<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Component</title>
	</head>
	<body>
		<div id="app">
			<my-component></my-component>
			<new-component></new-component>
		</div>
		<div id="root">
			<kyrie></kyrie>
			<kyrie></kyrie>
			<kyrie></kyrie>
			<player></player>
		</div>
		<div id="box">
			<ul class="list">
				<li v-for="(player,index) in players" :key="index">
					{{player}}
				</li>
			</ul>
			<ol>
				<li v-for="(item,index) in items" :key="index">{{item}}</li>
			</ol>
			<button @click="AddPlayer">增加</button>
			<button @click="handleReduce">减少</button>
			<button v-on:click="handleAdd">增加</button>
			<button v-on:click="handleReverse">颠倒</button>
			<button v-on:click="handleSort">排序</button>
		</div>
		<div id="demo">
			<ul>
				<li v-for="(item,index) in books" :key="index">
					{{item}}
				</li>
			</ul>
		</div>
		<div id="example">
			<p>a:{{a}}</p>
			<p>name:{{userInfo.name}}</p>
			<p>age:{{userInfo.age}}</p>
			<p>team:{{userInfo.team}}</p>
			<p>player:{{userInfo.player}}</p>
		</div>
		
		<div id="demo1">
			<ul class="even-list">
				<!-- 用计算属性时，无需用括号, -->
				<li v-for="(n,index) in evenNumbers" v-bind:key="index">
					{{n}}
				</li>
			</ul>
			<ol class="odd-list">
				<!-- 用methods时，并传递参数，需要加上括号 -->
				<li v-for = "(item,index) in oddNumbers(numbers)" :key="index">
					{{item}}
				</li>
			</ol>
			<!-- 绑定事件时可以传递 变量参数  -->
			<button v-on:click="getMessage(message)">获取信息</button>
		</div>
		
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<script>
			// 定义一个组件,全局注册的组件任何Vue实例都可以使用,
			// 
			Vue.component('my-component',{
				template:"<div>我是子组件</div>"
			});
			
			const Child = {
				template:"<div>这是子组件</div>"
			}
			
			new Vue({
				el:document.getElementById("app"),
				components:{
					"new-component":Child
				}
			});
			
			const player = Vue.component('player',{
				template:"<div>我是子组件</div>",
			});
			
			Vue.component("kyrie",{
				template:"<button @click='change'>Click me:{{message}}</button>",
				data(){
					return{
						message:0
					}
				},
				methods:{
					change(){
						this.message++;
					}
				},
				components:{
					player
				}
			});
			new Vue({
				el:"#root"
			});
			
			new Vue({
				el:document.getElementById("box"),
				data:{
					players:["kyrie","durant","lebron"],
					items:[4,2,1,5,7,3,6],
				},
				methods:{
					AddPlayer(){
						this.players.length = 2;
						this.players[0] = "curry";
					},
					handleReduce(){
						console.log(this.players.pop());
					},
					handleAdd(){
						// this.players.push("kobe");
						console.log(this.players.push("kobe"));
					},
					handleReverse(){
						console.log(this.players.reverse());
					},
					handleSort(){
						this.players.sort( function(a,b){
							return a - b;
						});
						this.items.sort((a,b) => a-b);
					}
				}
			});
			
			let names = ["kyrie","durant","james",'kobe','allen'];
			console.log(names);
			names.sort(function(a,b){
				return a.length - b.length;
			});
			names.sort();
			console.log(names);
			
			var numbers = [4,2,5,1,3];
			console.log(numbers);
			numbers.sort(function(a,b){
				return a - b;
			});
			console.log(numbers);
			
			const vm = new Vue({
				el:document.getElementById("demo"),
				data:{
					books:["老人与海","丧钟为谁而鸣","太阳照常升起"]
				}
			});
			console.log(vm);
			// vm.books[0] = "小王子";
			// vm.books.length = 2;
			
			// 为了解决 vm.books[indexOfItem] = newValue
			Vue.set(vm.books,0,"小王子");
			vm.books.splice(0,1,"永别了，武器");
			
			// vm.books.splice(2);
			// 将序号为第1个位置添加为 "嫌疑人X的献身"
			vm.$set(vm.books,1,"嫌疑人X的献身");
			
			const vm1 = new Vue({
				el:document.getElementById("example"),
				data:{
					a:1,
					userInfo:{
						name:"JayK"
					}
				}
			});
			vm1.b = 2;
			console.log(vm1);
			
			vm1.$set( vm1.userInfo, 'age',27 );
			console.log(vm1);
			vm1.userInfo.age = 30,
			
			Object.assign(vm1.userInfo,{
				age:28,
				favoriteColor:'Vue Green'
			});

			
			vm1.userInfo = Object.assign({},vm1.userInfo,{
				age:28,
				color:"blue",
				team:"cavs",
				player:"lbj"
			});
			console.log(vm1);
			vm1.userInfo.player = 'kyrie';
			
			// vm1.$set(vm1.userInfo,'player',"kyrIe");
			
			const vm2 = new Vue({
				el:document.getElementById("demo1"),
				data:{
					numbers:[1,2,3,4,5,6,7,8,9,10],
					message:'Hello World',
				},
				computed:{
					evenNumbers(numbers){
						return this.numbers.filter( function(item){
							return item%2 == 0;
						})
					}
				},
				methods:{
					oddNumbers(number){
						console.log(number);
						return this.numbers.filter(function(item){
							return item%2 !== 0;
						})
					},
					getMessage(data){
						console.log(data);
					}
				}
			});
			

		</script>
	</body>
</html>
