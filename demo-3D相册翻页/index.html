<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>demo-3D相册翻页</title>
	</head>
	<style>
		body,ul,ol{
			padding: 0;
			margin: 0;
		}
		.wrapper{
			margin:50px auto;
			position:relative;
			width: 600px;
			height:400px;
			background:url('./imgs/0.jpg') no-repeat 0 0/600px 400px;
			perspective:800px;
		}
		.left{
			width:50%;
			transform-origin:left;
			transform-style:preserve-3d;
			z-index:1;
		}
		.left.current{
			transition:linear 0.9s;
			transform:rotateY(-180deg);
		}
		.left,.front,.back,.right{
			position:absolute;
			height:100%;
			right:0;
			top:0;
		}
		.front,.back{
			width:100%;
		}
		.front{
			background:url("./imgs/0.jpg") no-repeat right top/600px 400px;
		}
		.back{
			background:url("./imgs/1.jpg") no-repeat left top /600px 400px;
			transform:translateZ(-1px) scale(-1,1);
		}
		.right{
			width:50%;
			background:url("./imgs/1.jpg") no-repeat right top/600px 400px;
		}
	</style>
	<body>
		<div class="wrapper">
			<div class="left">
				<div class="front"></div>
				<div class="back"></div>
			</div>
			<div class="right"></div>
		</div>
	</body>
	<script type="text/javascript">
		const oWrapper = document.querySelector(".wrapper"),
			oLeft = document.querySelector(".left"),
			oRight = document.querySelector(".right"),
			oFront = document.querySelector(".front"),
			oBack = document.querySelector(".back");
		let index = 0;
		let isClicked = false;
		oWrapper.onclick = function(){
			if(isClicked) return;
			isClicked = true;
			oLeft.classList.add("current");
			index++;
			index%=3;
			document.addEventListener("transitionend",function(){
				oLeft.classList.remove("current");
				oWrapper.style.backgroundImage = "url('./imgs/"+index+".jpg')";
				oFront.style.backgroundImage = "url('./imgs/"+index+".jpg')";
				oRight.style.backgroundImage = "url('./imgs/"+(index+1)%3+".jpg')";
				oBack.style.backgroundImage = "url('./imgs/"+(index+1)%3+".jpg')";
				isClicked = false;
			},false);
		}
	</script>
</html>
