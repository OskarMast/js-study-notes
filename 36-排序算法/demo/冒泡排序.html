<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>冒泡排序</title>
	</head>
	<body>
		<script>
			// 冒泡排序   原地排序
			let arr1 = [5,4,3,2,1];
			function bubble1(array){
				let j = 0;
				while(j < array.length-1){
					for(let i = 0; i < array.length-1; i++){
						if(array[i] > array[i+1]){
							[array[i],array[i+1]] = [array[i+1],array[i]]
						}
					}
					j++;
				}
				return array;
			}	
			console.log( bubble1(arr1) );	// [1, 2, 3, 4, 5]
			console.log(arr1);	// [1, 2, 3, 4, 5]
			
			const randomArr = new Array(10000).fill(0).map((item,index)=>index).sort(()=>Math.random()-.5);

			console.time()
			console.log(bubble1(randomArr));
			console.timeEnd();
			
			
			// 优化上面的冒泡排序,第一次循环的时候已经找到最大值了, 第二次循环已经找到第二个最大的值了, 因此, 已经找到的最大值已经不需要再进行比较了
			function bubble2(array){
				for(let i = 0; i < array.length;i++){
					for(let j = 0; j < array.length - i - 1; j++){
						if(array[j] > array[j+1]){
							[array[j],array[j+1]] = [array[j+1],array[j]];
						}
					}
				}
				return array;
			}
			
			const array = Array(10000).fill(0).map((item,index)=>index).sort(()=>Math.random() - .5);
			console.time();
			console.log(bubble2(array));
			array.sort((a,b)=>a-b);
			console.timeEnd();
			
		</script>
	</body>
</html>
