<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Vue-router进阶</title>
		<style>
			ul{
				padding:0;
				list-style:none;
			}
		</style>
	</head>
	<body>
		<div id="server">
			<router-link tag="h4" to="/list">导航解析流程</router-link>
			<router-view></router-view>
		</div>
		<script src="https://unpkg.com/vue/dist/vue.js"></script>
		<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
		<script>
			const List = Vue.component("list",{
				data(){
					return{
						list:[
							{
								index:1,
								item:"导航被触发。"
							},
							{
								index:2,
								item:"在失活的组件里调用离开守卫。"
							},
							{
								index:3,
								item:"调用全局的 beforeEach 守卫。"
							},				
							{
								index:4,
								item:"在重用的组件里调用 beforeRouteUpdate 守卫 (2.2+)。"
							},				
							{
								index:5,
								item:"在路由配置里调用 beforeEnter。"
							},				
							{
								index:6,
								item:"解析异步路由组件。"
							},				
							{
								index:7,
								item:"在被激活的组件里调用 beforeRouteEnter。"
							},				
							{
								index:8,
								item:"调用全局的 beforeResolve 守卫 (2.5+)。"
							},			
							{
								index:9,
								item:"导航被确认。"
							},
							{
								index:10,
								item:"调用全局的 afterEach 钩子。"
							},				
							{
								index:11,
								item:"触发 DOM 更新。"
							},				
							{
								index:12,
								item:"用创建好的实例调用 beforeRouteEnter 守卫中传给 next 的回调函数。"
							}		
						]
					}
				},
				template:`<ul>
					<li v-for="item in list" :key="item.index">{{item.index}}--{{item.item}}</li>
				</ul>`
			});
			
			const router = new VueRouter({
				routes:[
					{
						path:"/list",
						component:List
					}
				]
			});
			
			router.beforeEach((to,from,next) => {
				console.log(from,to);
				next();
			})
			new Vue({
				el:"#server",
				router,
			})
		</script>
	</body>
</html>
