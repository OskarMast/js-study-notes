<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Router-API</title>
	</head>
	<style>
		body,ul,ol{
			padding: 0;
			margin: 0;
		}
		ul,ol{
			list-style:none;
		}
		#server{
			margin:10px auto 0;
			width:600px;
			border:1px solid #000;
		}
		.navlist{
			display:flex;
			height:40px;
			background-color:rgb(1,32,79);
			justify-content:space-around;
		}
		.navlist>li{
			flex:1;
			color:#fff;
			line-height:40px;
			text-align:center;
		}
		.navlist>li.active{
			background-color:red;
		}
		img{
			width:600px;
		}
	</style>
	<body>
		<div id="server">
			<ul class="navlist">
				<router-link tag="li" to="/" exact>首页</router-link>
				<router-link tag="li" to="/guonei">国内</router-link>
				<router-link tag="li" to="internet">互联网</router-link>
			</ul>
			<router-view></router-view>
		</div>
		<script src="https://unpkg.com/vue/dist/vue.js"></script>
		<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
		<script>
			
			const Header = Vue.component("index",{
				template:`<div>
					<img src="./imgs/index.png">
				</div>`,
				mounted(){
					console.log(router.server);
					console.log(router.mode);
					console.log(router.currentRoute);
				}
			});
			
			const Guonei = Vue.component("guonei",{
				template:`<div>
					<img src="./imgs/guonei.png">
				</div>`,
				mounted(){
					console.log(router.currentRoute);
					console.log(this.$router.currentRoute);
				}
			});
			
			const Internet = Vue.component("internet",{
				template:`<div>
					<img src="./imgs/it.png">
				</div>`
			});
			const router = new VueRouter({
				base:"/",
				linkActiveClass:"active",
				routes:[
					{
						path:"/",		// 匹配的路径
						component:Index,	// 显示的组件
						name:"index",
						meta:{
							title:"首页"
						}
					},
					{
						path:"/guonei",
						component:Guonei,
						name:"guonei",
						meta:{
							title:"国内"
						}
					},
					{
						path:"/internet",
						component:Internet,
						meta:{
							title:"互联网"
						}
					}
				]
			});
			router.beforeEach((to,from,next) => {
				window.document.title = to.meta.title;
				next();
			})
			new Vue({
				el:"#server",
				router
			})
		</script>
	</body>
</html>
