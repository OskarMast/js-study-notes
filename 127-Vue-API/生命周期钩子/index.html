<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue-生命周期钩子函数</title>
</head>
<body>
    <div id="server">
        {{message}}
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        let vm = new Vue({
            el:'#server',
            data:{
                message:'Hello Vue.js',
                a:1
            },
            beforeCreate(){
                console.log(this,this.message,this.$el);    // undefined undefined
                //  this.sayHi();     is not a function
            },
            computed:{
                reverseMessage(){
                    return this.message.split('').reverse().join("");
                }
            },
            /*
            *   实例已完成以下配置：数据观测 属性和方法的运算
            * */
            created(){
                console.log(this,this.message,this.$el);    // Hello vue.js undefined
                console.log(this.reverseMessage);
                this.sayHi();
            },
            beforeMount(){
                console.log(this.$el);  // 已经有挂载点了
            },
            /*
            *   el 被新创建的 vm.$el替换,并挂载到实例上去之后调用该钩子。如果root实例挂载了一个文档内元素,
            *  当mounted被调用时, vm.$el也在文档内.
            *
            * tips:
            * mounted不会承诺所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以用 vm.$nextTick 替换掉 mounted
            * */
            mounted(){
                console.log(this.$el);
                // console.log(vm); 此处会报错
                this.$nextTick(() => {
                    console.log(vm);
                })
            },
            /* 数据更新时调用,发生在虚拟DOM打补丁之前*/
            beforeUpdate(){
                console.log('beforeUpdate');
            },
            /* 由于数据更改导致的虚拟DOM重新渲染和打补丁,组件DOM已经更新*/
            updated(){
                console.log('updated');
            },
            beforeDestroy(){
                console.log('beforeDestroy');
            },
            destroyed(){
                console.log('destroyed');
            },
            methods:{
                sayHi(){
                    console.log('Hello Vue.js');
                }
            }
        });

        console.log( server.outerHTML );
        /*
        * <div id="server">
            Hello Vue.js
           </div>
        * */
    </script>
</body>
</html>