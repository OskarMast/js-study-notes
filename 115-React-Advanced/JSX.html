<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>React - 深入JSX</title>
</head>
<body>
<div id="app"></div>
<div id="demo"></div>
<div id="root"></div>
<div id="mine"></div>
<div id="list"></div>
<div id="repeat"></div>
<div id="no"></div>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="./node_modules/react/umd/react.production.min.js"></script>
<script src="./node_modules/react-dom/umd/react-dom.production.min.js"></script>
<script type="text/babel">
    // JSX是 React.createElement 语法糖
    const element = React.createElement(
        "div",
        {className:'red'},
        "Hello React"
    )
    ReactDOM.render(
        element,
        document.getElementById("app")
    )

    // JSX中可以使用 点 语法
    const MyComponent = {
        DatePicker: function DatePicker(props){
            return <div style={{background:props.color}}>我是DatePicker组件</div>
        }
    }
    function BlueDatePicker(){
        return <MyComponent.DatePicker color="blue"></MyComponent.DatePicker>
    }
    ReactDOM.render(
        <BlueDatePicker/>,
        document.getElementById("demo")
    )


    // 属性展开
    function App1(){
        return <Greeting firstName="Ben" lastName="Hector"/>
    }

    class Name extends React.Component {
        constructor(props){
            super(props);
        }
        render(){
            console.log(this.props);
            return(
                <div>
                    <p className="firstName">firstName: {this.props.firstName}</p>
                    <p className="lastName">lastName: {this.props.lastName}</p>
                </div>
            )
        }
    }
    function App2(){
        const props = {firstName:"Ben",lastName:"Hector"};
        return <Name {...props}/>
    }

    ReactDOM.render(
        <App2/>,
        document.getElementById("root")
    )

    const player = {
        firstName:"kyrie",
        lastName:"irving",
        age:27
    }
    const {firstName,...others} = player;
    console.log(others);    // {lastName: "irving", age: 27}


    class MineComponent extends React.Component {
        constructor(props){
            super(props);
        }
        render(){
            const props = this.props;
            console.log(props); // {children:"submit"}
            return (
                <div>
                    <button {...props}/>
                    <button>{props.children}</button>
                </div>
            )
        }
    }
    function MyApp(){
        return <MineComponent>submit</MineComponent>
    }
    ReactDOM.render(
        <MyApp/>,
        document.getElementById("mine")
    )

    // jsx子元素是javascript表达式
    function Item(props){
        return <li>{props.message}</li>
    }

    function TodoList(){
        const todos = ["finish doc","submit pr","nag dan to review"];
        return (
            <ul>
                {todos.length && todos.map((item) => (<Item key={item} message={item} />))}
            </ul>
        )
    }
    ReactDOM.render(
        <TodoList/>,
        document.getElementById("list")
    )

    // 函数作为子元素
    function Repeat(props){
        let items = [];
        for(let i = 0; i < props.numTimes; i++){
            items.push(props.children(i));
        }
        return <div>{items}</div>
    }

    function ListOfTenThings(){
        const player = [
            <li key="1">lebron</li>,
            <li key="2">kyrie</li>,
            <li key="3">durant</li>
        ]
        return (
            <div>
                <ul>{player}</ul>
                <Repeat numTimes={10}>
                    { (index) => <div key={index}>This is item {index} in the list</div> }
                </Repeat>
            </div>
        )
    }
    ReactDOM.render(
        <ListOfTenThings/>,
        document.getElementById("repeat")
    )

    // 布尔类型 Null Undefined 将会忽略
    class Bar extends React.Component {
        render(){
            return (
                <div>
                    <div></div>
                    <div>{false}</div>
                    <div>{null}</div>
                    <div>{undefined}</div>
                    <div>{true}</div>
                </div>
            )
        }
    }

    ReactDOM.render(
        <Bar/>,
        document.getElementById("no")
    )

















</script>
</body>
</html>