<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Render Props</title>
    <style>
        body,up,ol,p,h1{
            padding: 0;
            margin: 0;
        }
        html,body,#app{
            height:100%;
        }
    </style>
</head>
<body>
<div id="app"></div>
<script src="./node_modules/babel-standalone/babel.js"></script>
<script src="./node_modules/react/umd/react.development.js"></script>
<script src="./node_modules/react-dom/umd/react-dom.development.js"></script>
<script type="text/babel">
    // 鼠标的位置
/*    class MouseTracker extends React.Component {
        constructor(props){
            super(props);
            this.state = {
                x:0,
                y:0
            }
        }
        handleMouseMove = (event) => {
            console.log(event);
            this.setState({
                x:event.clientX,
                y:event.clientY
            })
        }
        render(){
            return (
                <div style={{height:"100%"}}
                    onMouseMove={this.handleMouseMove}
                >
                    <h1>移动鼠标</h1>
                    <p>当前的位置是(x:{this.state.x},{this.state.y})</p>
                </div>
            )
        }
    }*/

    // 将鼠标的移动位置封装成一个组件, 然后再另一个组件里复用
/*    class Mouse extends React.Component {
        constructor(props){
            super(props);
            this.state = {
                x : 0,
                y : 0
            }
        }
        handleMouseMouse = (event) => {
            this.setState({
                x:event.clientX,
                y:event.clientY
            })
        }
        render(){
            return(
                <div
                    style={{height:"100%"}}
                    onMouseMove={this.handleMouseMouse}
                >
                    <p>The current position is {this.state.x},{this.state.y}</p>
                </div>
            )
        }
    }*/

/*    class MouseTracker extends React.Component{
        render() {
            return (
                <div style={{height:'100%'}}
                >
                    <h1>移动鼠标</h1>
                    <Mouse/>
                </div>
            )
        }
    }*/

        // 图片随着鼠标的位置滚动, 图片组件接受一个 位置参数,然后实时修改图片的位置
/*    class Cat extends React.Component {
        constructor(props){
            super(props);
        }
        render(){
            const mouse = this.props.mouse;
            console.log(mouse);
            mouse.x = mouse.x < 150 ? 150 : mouse.x;
            mouse.y = mouse.y < 110 ? 110 : mouse.y;
            return (
                <img
                    src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=73898336,3662761419&fm=11&gp=0.jpg"
                    alt="yy"
                    style={{
                        position:"absolute",
                        width:300,
                        left:mouse.x-150,
                        top:mouse.y-110
                    }}
                />
            )
        }
    }*/
        // 更新鼠标的位置,然后传递到图片组件里
/*    class CatWithMouse extends React.Component {
        constructor(props){
            super(props);
            this.state = {
                x:0,
                y:0
            }
        }
        handleMouseMove = (event) => {
            this.setState({
                x:event.clientX,
                y:event.clientY
            })
        }
        render(){
            return (
                <div style={{
                    position:"relative",
                    width:"100%",
                    height:"100%"
                }}
                    onMouseMove={this.handleMouseMove}
                >
                    <Cat mouse={{x:this.state.x,y:this.state.y}}/>
                </div>
            )
        }
    }*/
    
    
    
    class Cat extends React.Component {
        render(){
            const mouse = this.props.mouse
            return (
                <img
                    src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1581266528168&di=fa8cc6fcaddafa6c05622ab0a05b400c&imgtype=0&src=http%3A%2F%2Fpics2.baidu.com%2Ffeed%2F8ad4b31c8701a18b198534afda89180e2938fe14.jpeg%3Ftoken%3D4f9ded1dc3dc437f23dd04cdda10af56%26s%3D971114C6CC0A735588BB71BB0300804A"
                    alt="yy"
                    style={{
                        position:"absolute",
                        left:mouse.x,
                        top:mouse.y,
                        width:300
                    }}
                />
            )
        }
    }
    class Mouse extends React.Component {
        constructor(props){
            super(props);
            this.state = {
                x : 0,
                y : 0
            }
        }
        handleMouseMove = (event) => {
            this.setState({
                x : event.clientX,
                y : event.clientY
            })
        }
        render(){
            return (
                <div
                    style={{
                        position:"relative",
                        width:"100%",
                        height:"100%"
                    }}
                    onMouseMove = {this.handleMouseMove}
                >
                    {this.props.render(this.state)}
                </div>
            )
        }
    }

    class MouseTracker extends React.Component {
        render() {
            return (
                <Mouse render={ mouse => (
                    <Cat mouse={mouse}/>
                ) }/>
            )
        }
    }
    
    ReactDOM.render(
        <MouseTracker/>,
        document.getElementById("app")
    )
</script>
</body>
</html>