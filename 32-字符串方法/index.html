<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>字符串方法</title>
</head>
<body>
        <code>
            console.log('Hello World!');    
        </code>
    <script>
        let longString = "his is a very long string which needs" +
            "to wrap across multiple lines because" +
            "otherwise my code is unreadable." ;
        console.log(longString);

        let longSt = "his is a very long string which needs\
            to wrap across multiple lines because\
            otherwise my code is unreadable.";
        console.log(longSt);
        
        var str = 'Hello World!';
        for(let item of str){
            console.log(item);
        }
        for(let item in str){
            console.log(str[item]);
        }
        console.log( str.charAt(0) );
        console.log( str.charAt(1) );
        console.log( str.charAt(2) );
        // 字符串不能修改,只能重新生产.
        // str.charAt(0) = 'h';
        // console.log(str);
        var str1 = 'Hello';
        var str2 = ' World!';
        console.log(str1+str2);
        console.log(str1);
        console.log(str2);
        console.log(str1.concat(str2));

        var string = '秋风清,秋月明,落叶聚还散,寒鸦栖复惊！';
        function getIndex(){
            for(let i = 0,len = string.length; i < len; i++){
                if(string.charAt(i) == '秋'){
                    console.log(i);
                    return;
                }else{
                    return -1;
                }
            }
        }
        getIndex();

        console.log(string.indexOf('秋'));
        console.log(string.indexOf('李'));

        for(let i = string.length ; i > -1 ; i--){
            if(string.charAt(i) == '秋'){
                console.log(i);
                break;
            }else{
                console.log(-1);
            }
        }
        console.log(string.lastIndexOf('秋'));

        var s = '金';
        console.log(s.charCodeAt(0));
        console.log(String.fromCharCode(37329));
        console.log(String.fromCharCode(37330));
        console.log(String.fromCharCode(32236));
        console.log( (37329).toString(16) );
        
        var str = 'Kyrie·Irving';
        console.log( str.slice(2,5) );  // rie
        console.log( str.slice(2)); // rie·Irving   
        console.log( str.slice(-1) );   // g
        console.log( str.substr(2,5) ); // rie·I
        console.log( str.substring(1,5) );
        console.log( str.substring(-11,5) );    
        console.log( str.substring(-3,3));  //  Kyr 若参数为负数,将参数转为0
        console.log( str.slice(-11,5) );
        console.log(str);
        console.log(str.split(''));
        console.log(str.split('·'));
        
        // 字符串可以是对象,
        var x = 'Kyrie';
        var y = new String('Kyrie');
        console.log(typeof x);  // string
        console.log(typeof y);  // object
        console.dir(x.constructor);
        console.log( x.charCodeAt(0) );
        console.log(String.fromCharCode(75));
        
        var a = 'Kyrie ';
        function getTrim(str){
            for(let i = 0; i < str.length; i++){
                if( (str[0] == ' ') && (str[str.length-1] == ' ') ){
                    return str.slice(1,str.length-1);
                }else if( (str[0] == ' ') && (str[str.length-1] != ' ')){
                    return str.slice(1);
                }else if( (str[0]) != ' ' && ( str[str.length-1] == ' ' ) ){
                    return str.slice(0,str.length-1);
                }
            }
        }
        getTrim(a);

        var s1 = 'Lebron';
        var s2 = 'James';
        console.log(s1.concat(s2,'Lakers'));

        var s_prim = 'foo';
        var s_obj = new String('foo');
        console.log(typeof s_prim); // string
        console.log(typeof s_obj);  // object

        let s_str1 = '2 + 2';
        let s_str2 = new String('2 + 2');
        console.log( eval(s_str1) );    // 4
        console.log( eval(s_str2) );    // string '2 + 2'

        console.log(String.prototype);

        var b = 'abc';
        console.log(b.repeat(3));   // abc
        
        var alphabet = 'abcdefghijklmnopqrstuvwxyz';
        // slice()方法
        console.log(alphabet.slice(1,5));   // bcde
        console.log(alphabet.slice(-2,5));  // 空字符串 
        console.log(alphabet.slice(5,-2));  // efghijklmnopqrstuvwx
        console.log(alphabet.slice(3));     // defghijklmnopqrstuvwxyz
        console.log(alphabet.slice(-10,-3));// qrstuvw
        console.log(alphabet.slice(-5));    // vwxyz
        // substring()方法
        console.log( alphabet.substring(1,5) ); // bcde
        console.log( alphabet.substring(-2,5) );  // abcde
        console.log( alphabet.substring(5,-2) );  // abcde 
        console.log( alphabet.substring(3) );   // defghijklmnopqrstuvwxyz
        console.log( alphabet.substring(-10,-3) );  // 
        console.log( alphabet.substring(-5) );  // 
        // substr()方法
        console.log( alphabet.substr(1,5) );    // bcdef
        console.log( alphabet.substr(-2,5) );   // yz
        console.log( alphabet.substr(5,-2) );   // 
        console.log( alphabet.substr(3) );  // defghijklmnopqrstuvwxyz
        console.log( alphabet.substr(-10,-3) ); 
        console.log( alphabet.substr(-5) ); // vwxyz
        
        var name = '金康';
        var newName = name.replace('金','杨');
        console.log(newName);
        console.log(name);
        
    </script>
</body>
</html>