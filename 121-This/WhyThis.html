<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script>
			function identify(){
				return this.name.toUpperCase();
			}
			function speak(){
				console.log(this);
				var greeting = "Hello I am " + identify.call(this);
				console.log(greeting);
			}
			var me = {
				name:"Kyrie"
			}
			var you = {
				name:"Reader"
			}
			console.log( identify.call(me) );	// KYRIE
			console.log( identify.call(you) );	// READER
			
			speak.call(me);	// this指向 me Object		output Hello I am KYRIE
			speak.call(you); // this指向 you Object     output  Hello I am READER
			
			
			
			function MyIdentify(context){
				return context.name.toUpperCase();
			}
			
			function MySpeak(context){
				var greeting = 'Hello I am' + MyIdentify(context);
				console.log(greeting);
			}
			console.log( MyIdentify(me) );	// READER
			console.log( MyIdentify(you) );	// KYRIE
			
			MySpeak(me);	// Hello I am KYRIE
			MySpeak(you);	// Hello I am READER
			
			
			function foo(num){
				console.log("foo:" + num);
				this.count ++;
			}
			foo.count = 0;
			for(var i = 0; i < 10; i++){
				if(i > 5){
					foo(i);
				}
			}
			console.log(foo.count,foo);	// 0
			
			
			let data = {
				count:0
			}
			function bar(num){
				console.log("bar",num);
				data.count++;
			}
			for(var i = 0; i < 10; i++){
				if(i > 5){
					bar(i);
				}
			}
			console.log(data);	// {count:4}
			
			
			
			m1.number = 0;
			function m1(number){
				console.log("m1:",number);
				m1.number++;
			}
			for(var i = 0; i < 10; i++){
				if(i > 5){
					m1(i);
				}
			}
			console.log(m1.number);	// 4
			
			
			m2.count = 0;
			function m2(num){
				console.log("m2:",num);
				m2.count++;
			}
			for(let i = 0; i < 10; i++){
				if(i > 5){
					m2.call(m2,i);
				}
			}
			console.log(m2.count);	// 4
			
			function f1(){
				var a = 2;
				this.f2();
			}
			function f2(){
				console.log(this.a);
			}	
			f1();	// undefined
			
		</script>
	</body>
</html>
