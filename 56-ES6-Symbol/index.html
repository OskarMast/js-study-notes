<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ES6-Symbol</title>
</head>
<body>
    <script>
        var s1 = new String('a1');
        var s2 = new String('a1');
        console.log(s1 == s2);  // false
        console.log(typeof s1); // object
        console.log(typeof s2); // object

        var str1 = 'a1';
        var str2 = 'a1';
        console.log(str1 == str2);  // true

        let player = {
            name:'kyrie',
            age:26
        }

        for(let key in player){
            console.log(key);
            console.log(typeof key);    // string
            console.log(player[key]);
        }

        function Player(name,age){
            this.name = name;
            this.age = age;
        }
        Player.prototype.skill = function(){
            console.log('crossover');
        }
        let kyrie = new Player('kyrie',26);

        for(let key in kyrie){
            console.log(key);
        }

        let s = Symbol();
        console.log(s); // Symbol
        console.log(typeof s);  // sumbol

        let sym1 = Symbol('foo');
        let sym2 = Symbol('bar');
        console.log(sym1);
        console.log(sym2);

        console.log( sym1.toString() );
        console.log( sym2.toString() );
        
        let obj = {
            toString(){
                return 'hello';
            }
        }
        const sym = Symbol(obj);
        console.log(sym);

        let a1 = Symbol();
        let a2 = Symbol();
        console.log(a1 == a2);  // false
        console.log(a1,a2);

        let b1 = Symbol('foo');
        let b2 = Symbol('foo');
        console.log(b1 == b2);  // falses
        console.log(b1,b2);

        let symbol = Symbol('my symbol');
        // 'my symbol is' + symbol; 报错
        console.log( symbol.toString() );
        console.log(typeof symbol);
        
        console.log( Boolean(symbol) );     // true

        let mySymbol = Symbol();
        // 第一种写法
        let a = {};
        a[mySymbol] = 'Hello!';

        console.log(a[mySymbol]);   // Hello!

        // 第二种写法
        let b = {
            [mySymbol]:'Hello!'
        }
        console.log(b[mySymbol]);   // Hello!

        // 第三种写法
        let c = {};
        Object.defineProperty(c,mySymbol,{value:'Hello!'});
        console.log(c[mySymbol]);

        const mySym = Symbol();
        const all = {};
        all.mySym = 'Hello!';
        console.log(all['mySym']);  // 'Hello'
        console.log(a[mySym]);  // undefined

        // Symbol可以定义一组常量,保证这组常量是不相等的。
        const log = {};
        log.levels = {
            DEBUG:Symbol('debug'),
            INFO:Symbol('info'),
            WARN:Symbol('warn')
        };
        console.log(log.levels.DEBUG,'debug message');
        console.log(log.levels.INFO,'info message');
        console.log(log.levels.WARN,'warn message');

        const color_red = Symbol();
        const color_green = Symbol();

        function getComplement(color){
            switch(color){
                case color_red:
                console.log('red');
                break;
                case color_green:
                console.log('green');
                break;
                default:
                // console.log('都没有');
                throw new Error('undefined color');
            }
        }

        // getComplement(color_yellow);

        // 求图形的面积
        function getArea(shape,options){
            let area = 0;
            switch(shape){
                case 'triangle':
                area = 0.5 * options.height * options.width;
                break;
            }
            console.log(area);
        }
        getArea('triangle',{
            width:3,
            height:4
        }); // 6

        // 消除魔术字符串的方法之一是把他写成一个变量

        const shapeType = {
            triangle:'Triangle'
        };

        function getSize(shape,options){
            let area = 0;
            switch(shape){
                case shapeType.triangle:
                area = 0.5 * options.width * options.height;
                break;
            }
            console.log(area);
        }

        getSize(shapeType.triangle,{width:4,height:3}); // 6

        
    </script>
</body>
</html>