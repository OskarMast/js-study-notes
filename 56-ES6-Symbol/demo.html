<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Symbol遍历</title>
</head>
<body>
    <ul class="list">
        <li>1</li>
        <li>2</li>
        <li>3</li>
    </ul>
    <script>
        let a1 = Symbol('a');

        let arr = ['kyrie',a1,'lebron'];

        for(let i = 0,l = arr.length; i < l; i++){
            console.log(arr[i]);    // kyrie Symbol(a) lebron
        }
        
        for(let key in arr){
            console.log(arr[key]);
        }

        for(let item of arr){
            console.log(item);
        }


        const obj = {};
        let a = Symbol('a');
        let b = Symbol('b');

        obj[a] = 'Hello';
        obj[b] = 'World!';

        console.log(obj);

        for(let key in obj){
            console.log(key);
            console.log(obj[key]);
        }

        const person = {};
        let name = Symbol('kyrie');
        Object.defineProperty(person,name,{
            value:'kyrie',
        });
        console.log(person);    // {Symbol(kyrie):'kyrie'}

        for(let key in person){
            console.log(key);
            console.log(person[key]);
        }
        console.log( Object.getOwnPropertyNames(person) );  // []

        console.log( Object.getOwnPropertySymbols(person)); // [Symbol[kyrie]]


        let kyrie = Symbol('kyrie');
        let player = {
            [kyrie]:'kyrie',
            age:26,
            position:'guard',
            skill:'crossover'
        }

        for(let key in player){
            console.log(key);   // age position skill
        }

        console.log( Object.getOwnPropertySymbols(player) );    // Symbol(kyrie)

        console.log(Reflect.ownKeys(player));  // ['age','position','skill',Symbol(kyrie)];

        console.log(Reflect.ownKeys(obj));  // [Symbol[a],Symbol[b]]
        

        for(i = 0,len = Reflect.ownKeys(player).length; i < len; i++){
            console.log(Reflect.ownKeys(player)[i]);
            console.log(typeof Reflect.ownKeys(player)[i]); 
        }

        let s1 = Symbol.for('foo');
        let s2 = Symbol.for('foo');

        console.log(s1 === s2); // true

        console.log(Symbol.for('bar') === Symbol.for('bar'));   // true

        console.log(Symbol('bar') === Symbol('bar'));   // false


        let sym1 = Symbol('kyrie');
        console.log(Symbol.keyFor(sym1));   // undefined

        let sym2 = Symbol.for('lebron');
        console.log(Symbol.keyFor(sym2));   // lebron

        let car = {
            [Symbol('benci')]:'奔驰',
            color:'red',
            price:'$100万'
        }
        console.log( Object.getOwnPropertySymbols(car) );

        for(let key in car){
            console.log(key);
        }
        for(let key of Reflect.ownKeys(car)){
            console.log(key);
        }

        let k1 = Symbol.for('Kyrie');
        let k2 = Symbol('kyrie');

        console.log(k1,k2);
        console.log(k1 == k2);  // false

        console.log(Symbol.keyFor(k1)); // kyrie
        console.log(typeof Symbol.keyFor(k1));  // string

        console.log(Symbol.keyFor(k2));     // undefined

        let x = Symbol.for(1);
        let y = Symbol.for(undefined);
        let z = Symbol.for(null);
        let m = Symbol.for(true);
        console.log(x,y,z,m);

        console.log(typeof Symbol.keyFor(x));   // string
        console.log(typeof Symbol.keyFor(y));   // string
        console.log(typeof Symbol.keyFor(z));   // string
        console.log(typeof Symbol.keyFor(m));   // string

        console.log(Symbol.keyFor(x));  // 1
        console.log(Symbol.keyFor(y));  // undefined
        console.log(Symbol.keyFor(z));  // null
        console.log(Symbol.keyFor(m));  // true

        let p = Symbol('p').toString();
        let q = Symbol('p').toString();
        console.log(p == q);    // true

        var s = {};
        var symbol = Symbol('1');
        s[symbol] = 'abc';
        var symbol = Symbol('2');   
        s[symbol] = 'bcd';
        console.log(symbol);    // symbol(2)
        console.log(s[symbol]); // bcd

        console.log(Object.getOwnPropertyNames(car));   // ['color','price']
        console.log(Object.getOwnPropertySymbols(car)); // [Symbol[benci]]

        let oList = document.querySelectorAll('.list>li');
        for(let item of oList){
            console.log(item);  
        }
        console.log(oList.length);  // 3

    </script>
</body>
</html>