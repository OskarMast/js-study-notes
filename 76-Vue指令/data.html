<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>实例属性和方法</title>
		<style>
			body,p,ul,ol{
				padding: 0;
				margin: 0;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<p ref="text">{{a}}</p>
		</div>
		<div id="root">
			<p>{{a}}</p>
		</div>
		<div id="demo">
			<p>{{message}}</p>
			<p>{{date}}</p>
			<p v-html="link"></p>
			<p>{{number/10}}</p>
			<p>{{isOk?"确定":"取消"}}</p>
		</div>
		<div id="box">
			<p>{{date | formDate}}</p>
			<a :href="url">QQ</a>
			<img :src="imgUrl" alt="">
		</div>
		<div id="example"></div>
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<script>
			// Vue提供了很多常用的实例属性和方法,都以$开头
			const vm = new Vue({
				el:document.getElementById('app'),
				data:{
					a:2
				}
			});
			console.log(vm.a);	// 2
			console.log(vm,vm.$el);
			console.log(vm.$refs);	// {text:p}
			
			// 除了显示地声明一个data外,也可以指向一个已有的变量.
			var myData = {
				a : 123,
			}
			let vm1 = new Vue({
				el:document.getElementById("root"),
				data:myData,
			});
			console.log(vm1.a);	// 123
			
			// 修改myData的data后
			myData.a = "b";
			console.log(vm1.a);	// b
			
			// 修改vue实例 
			vm1.a = "hello";
			console.log(myData.a);	// 'hello'
			
			new Vue({
				el:document.getElementById("demo"),
				data:{
					message:"Hello Vue.js",
					date:new Date(),
					link:"<a href='https://www.baidu.com' target='_blank'>百度</a>",
					number:15,
					isOk:false
				},
				created:function(){
					console.log(this.message);	// Hello Vue.js
				},
				mounted:function(){
					console.log(this.$el);		// 根结点 #demo
					let _this = this;
					let timer = setInterval(function(){
						_this.date = new Date();
					},1000);
				}
			});
			
			function padDate(value){
				value = value < 10 ? '0' + value : value;
				return value;
			}
			new Vue({
				el:"#box",
				data:{
					date:new Date(),
					url:"http://www.qq.com",
					imgUrl:"http://img13.360buyimg.com/n1/s450x450_jfs/t1/3796/23/13488/146183/5bd8a3f5E4062cffd/153210ae11da3aaa.jpg"
				},
				mounted:function(){
					let _this = this;
					function move(){
						// console.log(this)  window
						_this.date = new Date();
						window.requestAnimationFrame(move);
					}
					move();
				},
				filters:{
					formDate:function(value){
						const date = new Date(value);
						let year = date.getFullYear();
						let mon = padDate(date.getMonth() + 1);
						let day = padDate(date.getDate());
						let hour = padDate(date.getHours());
						let min = padDate(date.getMinutes());
						let sec = padDate(date.getSeconds());
						return year + "年/" + mon + "月/" + day + "日/" + hour + "时/" + min + "分/" + sec + "秒";
					}
				}
			})



			let data = {a : 1}

			let vm2 = new Vue({
				el:'#example',
				data,
			})
			console.log(vm2.a === data.a);	// true
			vm2.a = 2;
			console.log(data.a);	// 2

			data.a = 3;
			console.log(vm2.a);		// 3

		</script>
	</body>
</html>
