<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>雪景手风琴效果</title>
    <style>
        body,p,h1,h2,h3,h4,h5,h6,ul,ol,input,form,textarea,select,fieldset,dl,dd,dt,table,th,td{
            margin: 0;
            padding: 0;
        }
        ul,ol{
            list-style:none;
        }
        h1,h2,h3,h4,h5,h6{
            font-weight:normal;
            font-size:100%;
        }
        body,html{
            position:relative;
            height:100%;
            overflow:hidden;
        }
        .wrap{
            position:absolute;
            left:0;
            top:0;
            width:100%;
            height:100%;
            background-color:pink;
            filter:blur(2px);
        }
        .wrap:nth-of-type(1),
        .content li:nth-of-type(1){
            background:url('./imgs/snow_1.jpg') no-repeat center/cover;
        }
        .wrap:nth-of-type(2),
        .content li:nth-of-type(2){
            background:url('./imgs/snow_2.jpg') no-repeat center/cover;
        }
        .wrap:nth-of-type(3),
        .content li:nth-of-type(3){
            background:url('./imgs/snow_3.jpg') no-repeat center/cover;
        }
        .wrap:nth-of-type(4),
        .content li:nth-of-type(4){
            background:url('./imgs/snow_4.jpg') no-repeat center/cover;
        }
        .wrap:nth-of-type(1){
            z-index:2;
        }
        .content{
            position:absolute;
            z-index:100;
            width: 1200px;
            height: 600px;
            border:1px solid #ccc;
            left:50%;
            top:50%;
            transform:translate(-50%,-50%);
        }
        .content .list>li{
            float: left;
            width: 100px;
            height: 600px;
            overflow:hidden;
            transition:.5s;
        }
        .content .list p{
            box-sizing:border-box;
            padding-top:30px;
            width:100px;
            height:600px;
            background-color:rgba(0,0,0,0.45);
            color:#fff;
            font-size:20px;
            writing-mode:vertical-rl;
            line-height:100px;
            cursor:default;
        }
        .content .list>li.current{
            width:900px;
            height:600px;
        }
    </style>
</head>
<body>
    <div class="wrap"></div>
    <div class="wrap"></div>
    <div class="wrap"></div>
    <div class="wrap"></div>
    <div class="content">
        <ul class='list'>
            <li class='current'>
                <p class="text">北风卷地百草折 胡天八月即飞雪</p>
            </li>
            <li>
                <p class="text">忽如一夜春风来 千树万树梨花开</p>
            </li>
            <li>
                <p class="text">轮台东门送君去 去时雪满天山路</p>
            </li>
            <li>
                <p class="text">山回路转不见君 雪上空留马行处</p>
            </li>
        </ul>
    </div>
    <script>
        /*业务逻辑：
            实现点击每个p元素,修改当前父级li的宽度
            1. 先获取所有p元素和所有的背景元素
            2. 点击当前p元素,修改当前p元素所在父元素的宽度,并把背景图片修改为当前图片相对应的背景图片
        */
        var aBtn = document.querySelectorAll('.content p'),
        aWrap = document.querySelectorAll('.wrap'),
        aLi = document.querySelectorAll('.content li'),
        num = 0;
        for(let i = 0, len = aBtn.length; i < len; i++){
            aBtn[i].addEventListener('click',function(){
                if( i !== num ){
                    aLi[num].className = '';
                    aWrap[num].style.zIndex = 1;
                    aLi[i].className = 'current';
                    aWrap[i].style.zIndex = 2;
                    num = i;
                };
            });
        }
        // num默认是0,如果点击的是第0个,则什么也不用改变, 
        // 如果点击的不是第三个,则修改当前li的宽度,并把i赋值给num
        
    </script>
</body>
</html>