<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>setData和getData</title>
		<style>
			body,ul,ol{
				padding: 0;
				margin: 0;
			}
			ul,ol{
				list-style:none;
			}
			.container{
				width: 150px;
				height: 150px;
				border:1px solid #000;
			}
			.list>li{
				width: 100px;
				height: 100px;
			}
		</style>
	</head>
	<body>
		<div class="container">容器</div>
		<ul class="list">
			<li class="item">1</li>
			<li class="item">2</li>
			<li class="item">3</li>
			<li class="item">4</li>
			<li class="item">5</li>
		</ul>
		<script>
			let oContainer = document.querySelector('.container');
			let aLi = document.querySelectorAll('.item');
			let oList = document.querySelector('.list');
			
			Array.from(aLi,function(item,index){
				item.style.backgroundColor = 'rgb('+ 10 + ',' + (index+1)*55 + ',' + (index+1)*30 + ')';
				item.style.color = '#fff';
				item.setAttribute('draggable',true);
				item.ondragstart = function(event){
					event = event || window.event;
					event.dataTransfer.setData('key',index);
				};
				item.ondrag = function(){
					console.log('拖动中...');
				}
			});
			
			oContainer.ondragenter = function(){
				this.innerHTML = '进入目标';
			}
			oContainer.ondragover = function(event){
				event = event || window.event;
				event.preventDefault();
				console.log('在目标上空');
			}
			oContainer.ondragleave = function(){
				this.innerHTML = '离开目标';
			}
			oContainer.ondrop = function(event){
				event = event || window.event;
				event.preventDefault();
				let index = event.dataTransfer.getData('key');
				oList.removeChild(aLi[index]);
			}
		</script>
	</body>
</html>
