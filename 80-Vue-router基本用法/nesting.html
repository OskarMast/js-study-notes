<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Vue-router--路由嵌套</title>
	</head>
	<body>
		<div id="demo">
			<router-link to="/user/123">用户界面</router-link>
			<router-view></router-view>
		</div>
		<script src="https://unpkg.com/vue/dist/vue.js"></script>
		<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
		<script>
			const User = Vue.component('user',{
				template:`<div>
						<h2>User:{{$route.params.id}}</h2>
						<router-link to="/user/123/profile">用户组件</router-link>
						<router-link to="/user/123/posts">登陆组件</router-link>
						<router-view></router-view>
					</div>`
			});
			
			const UserProfile = Vue.component("profile",{
				template:"<div><p>用户中心组件</p></div>",
				mounted(){
					console.log(this.$route.params);
				}
			});
			const UserPosts = Vue.component("post",{
				template:"<div><p>登陆组件</p></div>",
				mounted(){
					console.log(this.$route.params);
				}
			})
			
			const router = new VueRouter({
				mode:"history",
				routes:[
					{
						path:"/user/:id",
						component:User,
						children:[
							{
								path:"profile",
								component:UserProfile
							},
							{
								path:"posts",
								component:UserPosts
							}
						]
					}
				]
			})
			new Vue({
				el:"#demo",
				router
			})
		</script>
	</body>
</html>
