<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>构造函数</title>
</head>
<body>
    
    <script>
        let a = {};
        let b = new Object;
        let c = new Object();
        console.log(a,b,c);    
        console.log(typeof Object);
        console.log(typeof Array);
        console.log(typeof String);
        
        function Player(name,age){
            this.name = name;
            this.age = age;
            this.skill = function(){
                console.log('运球过人');
            }
        }
        Player.prototype = {
            skill:function(){
                console.log('crossover');
                console.log(this);
            }
        }

        let kyrie = new Player('kyrie',26);
        console.dir(kyrie);
        kyrie.skill();
        console.log(kyrie.__proto__ == Player.prototype);
        console.log(Player.prototype);
        console.log(Player.prototype === kyrie.__proto__);  // true
        console.log(kyrie.__proto__.__proto__);
        console.log(typeof Date);
        console.log(typeof String);

        console.dir(Function);

        function Animal(name){
            this.name = name;
        }
        Animal.prototype = {
            say:function(){
                console.log('喵');
            }
        };
        let cat = new Animal('cat');
        console.log(cat);
        cat.say();
        console.log(cat.constructor);
        console.log(Animal.prototype);
        // Animal.prototype.constructor = Animal;
        console.log(Animal.prototype.constructor);
        console.log(cat.constructor);

        console.log(Animal.__proto__ == Function.prototype);    // true
        console.log(Function.prototype == Function.__proto__);  // true
        console.log(Function.prototype == Object.__proto__);    // true

        console.log(cat.constructor);   // Object

        function Person(){
            this.name = 'kyrie';
        }
        console.log(Person.prototype.constructor);

        Person.prototype = {
            say:function(){
                console.log(`my name is ${this.name}`);
            }
        }
        console.log(Person.prototype.constructor);  // Object
        Person.prototype.constructor = Person;
        console.log(Person.prototype.constructor);  

        let p1 = new Person();
        console.log(p1);
        p1.say();
        console.log(p1.constructor);    // Person

        console.log( ({}) == '[object Object]');    // true
        console.log( ({}) === '[object Object]');    // false
        console.log( ({}).toString() );

        console.log( ({toString:function(){return 3}}) == 3 );  // ture

        function Foo(){
            this.a = 1;
            this.b = 2;
            let c = 3;
        }
        // let foo = new Foo();
        // console.log(foo);
        // console.log(foo.a,foo.b,foo.c); // 1 2 undefined

        let foo = Object.create(null);
        // console.log(o);

        Foo.call(foo);
        console.log(foo);   // {a:1,b:2}    只是修改了this指向,没有

        foo.proto = Foo.prototype;
        console.log(foo.proto);

        console.log(foo);
        console.log(Function.prototype == Object.__proto__);    // true
        console.log(Function.prototype == Function.__proto__);  // true
        console.log(typeof Function.prototype); // function

        console.log(Function.constructor);  // Function
        console.log(Function.__proto__ === Function.prototype); // true
        console.log(Function.prototype.__proto__ == Object.prototype);  // true
        console.log(Object.__proto__ == Function.prototype);    // true
        console.log(Object.prototype.constructor == Object);    // true
        console.log(Object.prototype.__proto__ == null);    // true

        console.log(typeof Object); // function
        console.dir(Object);
        console.dir(String);
        console.log(String.__proto__ == Function.prototype);    // true
        console.log(Number.__proto__ == Function.prototype);    // true
        console.log(RegExp.constructor) // Function
        console.log(Date.__proto__ == Function.prototype);  // true
        console.log(Boolean.__proto__ == Function.prototype);
        console.log(Array.__proto__ == Function.prototype);
        console.dir(typeof String.prototype);   // object
        console.log(typeof String.__proto__);   // function
        console.log(String.prototype.__proto__ == Object.prototype);    // true
        
    </script>   
</body>
</html>