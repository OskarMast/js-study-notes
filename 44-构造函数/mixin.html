<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>显式混入</title>
</head>
<body>
<script>
    function mixin(sourceObj,targetObj){
        for(let key in sourceObj){
            if(!(key in targetObj) ){
                targetObj[key] = sourceObj[key];
            }
        }
        return targetObj;
    }

    var Vehicle = {
        engines:1,
        // Car中并没有复制ignition,只是复制了对函数对引用。
        ignition:function(){
            console.log('Turning on my engine.');
        },
        drive:function(){
            this.ignition();
            console.log('Steering and moving forward!');
        }
    }

    var Car = mixin(Vehicle,{
        wheels:4,
        drive:function(){
            Vehicle.drive.call(this);
            console.log('Rolling on all' + this.wheels + 'wheels');
        }
    });


    var obj = {
        a:2,
    }
    var myObject = Object.create(obj);
    console.log(myObject.a);

    console.log(myObject.__proto__ === obj);    // true

    for(let key in myObject){
        console.log('found', key);
    }

    var player = {
    }
    Object.defineProperty(player,'name',{
        value:'james',
        writable:false,
        configurable:true,
        enumerable:true,
    });

    var anotherPlayer = Object.create(player);

    Object.defineProperty(anotherPlayer,'name',{
        value:'kyrie',
        writable:true,
        configurable:true,
        enumerable:true
    })

    console.log(anotherPlayer);

    for(k in anotherPlayer){
        console.log('found:',k, "value:",anotherPlayer[k]);
    }

    function NothingSpecial(){
        console.log("Dont't mind me!");
    }
    var bar = new NothingSpecial();
    console.log(bar);


    // 类
    function Foo(name){
        this.name = name;
    }
    Foo.prototype.myName = function(){
        console.log( this.name );
    }
    let f1 = new Foo('f1');
    let f2 = new Foo('f2');

    f1.myName();    // f1
    f2.myName();    // f2

    console.log(f1.constructor === Foo.prototype.constructor);

    console.log( Object.getOwnPropertyDescriptor(Foo.prototype,'constructor') );


    function Bar(name){
        this.name = name;
    }
    Bar.prototype = {
        say:function(){
            console.log(this.name);
        }
    }
    let bee = new Bar('bee');
    bee.say();

    console.log(bee.constructor);

    Object.defineProperty(Bar.prototype,'constructor',{
        writable:true,
        enumerable:false,
        configurable:true,
        value:Bar
    })

    console.log(bee.constructor);



</script>
</body>
</html>