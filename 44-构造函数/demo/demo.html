<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>面向对象创建圆和三角形</title>
</head>
<body>
    <script>
        /*
        1. 设置三个构造函数,一个公共的函数,控制圆和三角形共有的属性
        1.1 共有的构造函数里需要 创建元素,设置元素的属性值,元素需要添加进页面
        2. 再分别创建一个圆和三角形的构造函数,设置其私有属性
        
        tips: Object.create() 和Object.assign() 的用处
        */
        function Common(){
            this.name = '共有的方法';
        };
        Common.prototype = {
            init:function(){
                this.ele = document.createElement('div');
            },
            append:function(target=document.body){
                target.appendChild(this.ele);
            },
            render:function(styleObj){
                this.init();
                this.append();
                Object.assign(this.ele.style,this.privateStyle,styleObj);
                console.log(this.ele.style.width);
                console.log(this.ele.style.height);
            },
        }
        function Circle(styleObj){
            this.name = '圆';
            this.privateStyle = {
                width:'100px',
                height:'100px',
                borderRadius:'50%',
                backgroundColor:'pink'
            }
        }
        Circle.prototype = Object.create(Common.prototype);
        
        function Triangle(styleObj){    
            this.name = '三角形';
            this.privateStyle = {
                width:0,
                height:0,
                borderStyle:'solid',
                borderColor:`transparent transparent ${styleObj.backgroundColor || 'skyblue'} transparent`,
                borderWidth:`0 ${parseFloat(styleObj.width)/2}px ${parseFloat(styleObj.height)/2}px ${parseFloat(styleObj.width)/2}px`,
            }
        }
        Triangle.prototype = Object.create(Common.prototype);

        let circle = new Circle();
        circle.render({width:'200px',height:'200px',backgroundColor:'skyblue'});
        
        let tri = new Triangle({width:'100px',height:'180px',backgroundColor:'skyblue'});
        tri.render();

    </script>    
</body>
</html>