<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ImageData</title>
		<style>
			body{
				padding: 0;
				margin: 0;
			}
			#canvas1{
				border:1px solid #000;
			}
		</style>
	</head>
	<body>
		<canvas id='canvas1'></canvas>
		<canvas id="canvas2" width='150' height='150'></canvas>
		<canvas id="canvas3"></canvas>
		<canvas id="canvas4"></canvas>
		<canvas id="canvas5"></canvas>
		<canvas id="canvas6" width='300' height='150'></canvas>

		<script>
			const canvas1 = document.getElementById('canvas1');
			const ctx1 = canvas1.getContext('2d');

			const img = new Image();
			img.src = 'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png';
			img.onload = function(){
				const pattern = ctx1.createPattern(img,'repeat');
				ctx1.fillStyle = pattern;
				ctx1.fillRect(0,0,300,150);
			}
			
			
			const canvas2 = document.getElementById('canvas2');
			const ctx2 = canvas2.getContext('2d');
			console.log(ctx2);
			
			ctx2.shadowBlur = 10;
			ctx2.shadowColor = 'black';
			ctx2.shadowOffsetY = 10;
			ctx2.shadowOffsetX = 10;
			ctx2.fillStyle = 'green';
			ctx2.fillRect(10,10,50,50);
			
			
			
			const canvas3 = document.getElementById('canvas3');
			const ctx3 = canvas3.getContext('2d');
			
			const canvas = document.createElement('canvas');
			const ctx = canvas.getContext('2d');
			
			let image = new Image();
			image.src = 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1553707821012&di=84f4638f522ba5e7467cf44a23db7dc3&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201607%2F19%2F20160719064142_NLihM.jpeg';
			image.onload = function(){
				ctx.drawImage(image,0,0,300,150);
				const pattern = ctx3.createPattern(canvas,'no-repeat');
				ctx3.fillStyle = pattern;
				ctx3.fillRect(0,0,300,150);
			}
			
			
			const canvas4 = document.getElementById('canvas4');
			const ctx4 = canvas4.getContext('2d');
			
			const img1 = new Image(300,150);
			img1.src = 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1553709291599&di=0bfc6958e91658b0a7b6d3e23732a2fe&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201607%2F19%2F20160719064142_NLihM.jpeg';

			// document.body.appendChild(img1);
			
			img1.onload = function(){
				const pattern = ctx4.createPattern(img1,'no-repeat');
				ctx4.fillStyle = pattern;
				ctx4.fillRect(0,0,300,150);
			}
			
			
			
			const canvas5 = document.getElementById('canvas5');
			const ctx5 = canvas5.getContext('2d');
			
// 			ctx5.fillStyle = 'red';
// 			ctx5.fillRect(0,0,canvas5.width,canvas5.height);
			
			let imgdata = ctx5.getImageData(0,0,canvas5.width,canvas5.height);
			console.log(imgdata);
			
			for(let i = 0; i < imgdata.data.length; i+=4 ){
				imgdata.data[i+0] = 0;
				imgdata.data[i+1] = 0;
				imgdata.data[i+2] = 255;
				imgdata.data[i+3] = 255;
			}
			ctx5.putImageData(imgdata,0,0);
			
			const c = document.getElementById('canvas6');
			const ct = c.getContext('2d');
			var imgData = ct.createImageData(100,100);
			for(var i = 0; i < imgData.data.length; i+=4){
				imgData.data[i+0] = 255;
				imgData.data[i+1] = 0;
				imgData.data[i+2] = 0;
				imgData.data[i+3] = 255;
			}
			ct.putImageData(imgData,10,10);
			
		</script>
	</body>
</html>
